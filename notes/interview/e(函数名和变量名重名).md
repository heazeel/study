## 函数名和变量名重名

```js
function b(){
  function a(){    //函数声明置顶
    console.log(a);
  }
  a = 10;
  return;
}
var a;
a = 1;
b();
console.log(a);
```

那么大家再来看看这段代码，觉得你们心目中的答案是多少呢？若是还是觉得等于10的话，那么就说明你们还没有考虑到本文要讲的重点：重名问题！

在讲解这段代码前，我还要给大家要普及一个知识点：作用域链（若是有不懂的同学，可以查阅链接：js闭包）。

好，懂作用域链的同学应该明白，在调用变量或者一个对象属性等的时候，查找的顺序是由里向外的，js执行代码是自上往下的。

那么我们再来分析刚才修改过后的代码：

1）先声明变量a，系统给变量a分配一个内存，注意，这里变量a暂时还不知道它的变量类型，因为还没有赋值；

2）a=1，给变量赋值为1，变量类型为number；

3）开始执行函数b，函数b内有一个函数名为a的函数声明，且函数a下面有一个变量名为a的变量，且赋值为10，这里便开始了难点分析。首先看函数a，由于在执行函数b的时候，并没有调用函数a，因此函数a并没有起作用；但是执行到a=10的时候，js是这样做的：1.首先查找变量a的地址，从系统内存中开始按照作用域链查找；2.由于作用域链的查找顺序是由里向外的，故要先从函数b里面开始查找；3.在查找的过程中，发现函数b中已经声明了一个函数名为a的函数（重名问题!），所以查找到函数名为a的函数后，这里便不再往外查找；4.所以这里的a=10其实是将10赋值给了函数名为a的这个函数对象！

有的同学会问为什么了。这样说吧，在函数b里面的时候，函数a提升置顶，跟变量类似（都在js中声明了），Js给这个函数a分配了内存，而恰巧的是在执行a=10的时候，优先查找的是与变量a同名的函数a，因为它所在的作用域最近！讲到这里，我想绝大多数的同学已经明白了这题为什么会打印1了吧？

因为既然a=10这个值10赋值给了函数对象a，那么在全局环境下运行console.log(a)，访问的是全局变量a，而全局变量a在系统内存中查找的值为1，所以打印的值为1.